<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">
                
                
	<ui:define name="header">
		Partner
	</ui:define>
	
	<p:fieldset legend="Partner anlegen" style="margin-bottom:20px">
		<p:inputText id="input" label="Partnername" value="${partnerBean.newPartner.name}"/>
		<p:selectOneMenu label="Kategorie" value="${partnerBean.newPartner.category}">
                <f:selectItems value="#{categoryBean.categoryList}" var="category" itemLabel="#{category.name}" itemValue="#{category}" />
            </p:selectOneMenu>
		<p:commandButton value="Speichern" actionListener="${partnerBean.save}" update="messages,partnerList,input" />
	</p:fieldset>

	<p:dataTable id="partnerList" value="#{partnerBean.partnerList}" var="partner">
		<p:column>
			<f:facet name="header">
				<h:outputText value="Partnernummer"></h:outputText>
			</f:facet>
			<h:outputText value="#{partner.id}"></h:outputText>
		</p:column>
		<p:column>
			<f:facet name="header">
				<h:outputText value="Bezeichnung"></h:outputText>
			</f:facet>
			<h:outputText value="#{partner.name}"></h:outputText>
		</p:column>
		<p:column>
			<f:facet name="header">
				<h:outputText value="Kategorie"></h:outputText>
			</f:facet>
			<h:outputText value="#{partner.category.name}"></h:outputText>
		</p:column>
    <p:column>
        <f:facet name="header">
            <h:outputText value="Aktionen" />
        </f:facet>
        <p:commandLink actionListener="#{partnerBean.editPartner(partner)}">
            <i class="pi pi-pencil" style="color: blue;"></i>
        </p:commandLink>
    	<p:spacer width="20" />
        <p:commandLink actionListener="#{partnerBean.deletePartner(partner)}" update="partnerList">
            <i class="pi pi-trash" style="color: red;"></i>
        </p:commandLink>
    </p:column>
	</p:dataTable>
	
	</html>
</ui:composition>