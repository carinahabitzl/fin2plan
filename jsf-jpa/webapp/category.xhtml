<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">
                
                
	<ui:define name="header">
		Kategorie
	</ui:define>
	
	<p:fieldset legend="Kategorie anlegen" style="margin-bottom:20px">
		<p:inputText id="input" label="Kategoriename" value="${categoryBean.newCategory.name}"/>
		<p:selectOneMenu label="CategoryType" value="${categoryBean.newCategory.type}">
            <f:selectItems value="#{categoryBean.categoryTypeList}" var="type" itemLabel="#{type}" itemValue="#{type}" />
        </p:selectOneMenu>
		<p:commandButton value="Speichern" actionListener="${categoryBean.save}" update="messages,categoryList,input" />
	</p:fieldset>

	<p:dataTable id="categoryList" value="#{categoryBean.categoryList}" var="category">
		<p:column>
			<f:facet name="header">
				<h:outputText value="Kategorienummer"></h:outputText>
			</f:facet>
			<h:outputText value="#{category.id}"></h:outputText>
		</p:column>
		<p:column>
			<f:facet name="header">
				<h:outputText value="Bezeichnung"></h:outputText>
			</f:facet>
			<h:outputText value="#{category.name}"></h:outputText>
		</p:column>
		<p:column>
        <f:facet name="header">
            <h:outputText value="Typ der Kategorie" />
        </f:facet>
        <h:outputText value="#{category.type}" />
    </p:column>
    <p:column>
        <f:facet name="header">
            <h:outputText value="Aktionen" />
        </f:facet>
        <p:commandLink actionListener="#{categoryBean.editCategory(category)}">
            <i class="pi pi-pencil" style="color: blue;"></i>
        </p:commandLink>
    	<p:spacer width="20" />
        <p:commandLink actionListener="#{categoryBean.deleteCategory(category)}" update="categoryList">
            <i class="pi pi-trash" style="color: red;"></i>
        </p:commandLink>
    </p:column>
	</p:dataTable>
	
	</html>
</ui:composition>