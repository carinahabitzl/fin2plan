<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">
                
                
	<ui:define name="header">
		Partner
	</ui:define>
	
	<p:fieldset legend="Kategorie anlegen" style="margin-bottom:20px">
		<p:inputText id="categoryName" label="Kategoriename" value="${categoryBean.newCategory.name}"/>
		<p:selectOneMenu label="CategoryType" value="${categoryBean.newCategory.type}">
            <f:selectItems value="#{categoryBean.categoryTypeList}" var="type" itemLabel="#{type}" itemValue="#{type}" />
        </p:selectOneMenu>
		<p:commandButton value="Speichern" actionListener="${categoryBean.save}" update="messages,categoryList,categoryName" />
	</p:fieldset>

	<p:dataTable 	id="categoryList"
					value="#{categoryBean.categoryList}"
					var="category"
					editable="true"
					editMode="cell"
					widgetVar="cellCategories">
					
		<p:ajax event="cellEdit" update="categoryList"/>
		
		<p:column headerText="Kategorienummer">
				<h:outputText value="#{category.id}"/>
			</p:column>
		
		<p:column headerText="Bezeichnung" filterBy="#{category.name}" filterMatchMode="contains">
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{category.name}"/>
					</f:facet>
					<f:facet name="input">
						<h:inputText value="#{category.name}"/>
					</f:facet>
				</p:cellEditor>	
			</p:column>
		
		<p:column headerText="Typ der Kategorie" filterBy="#{category.type}" filterMatchMode="contains">
		        <p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{category.type}"/>
					</f:facet>
					<f:facet name="input">
						<p:selectOneMenu value="${categoryBean.newCategory.type}">
				            <f:selectItems value="#{categoryBean.categoryTypeList}" var="type" itemLabel="#{type}" itemValue="#{type}" />
				        </p:selectOneMenu>
					</f:facet>
				</p:cellEditor>	
		    </p:column>
    	
    	<p:column headerText="Aktionen">
		        <p:commandLink actionListener="#{categoryBean.deleteCategory(category)}" update="categoryList">
		        	<i class="pi pi-trash" style="color: red;"></i>
		        </p:commandLink>
		    </p:column>
    
    
	</p:dataTable>
	
	</html>
</ui:composition>